(this["webpackJsonpreact-use-infinite-scroll-example"]=this["webpackJsonpreact-use-infinite-scroll-example"]||[]).push([[0],{20:function(e,t,n){e.exports=n(49)},21:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);n(21);var r=n(0),c=n.n(r),a=n(17),o=n.n(a),u=n(2),i=n.n(u),s=n(7),l=n(5),f=n(6),m=n(18),p=n.n(m),b=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({method:"GET",url:"https://pokeapi.co/api/v2/pokemon/",headers:{Accept:"application/json","Access-Control-Allow-Origin":"*"},params:{limit:n,offset:1===t?0:t*n}});case 2:return r=e.sent,e.abrupt("return",{next:r.data.next,results:r.data.results});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d="bottom",j="top",v=function(e){var t=e.callback,n=e.hasMore,c=e.startPage,a=void 0===c?1:c,o=e.offset,u=void 0===o?250:o,i=e.direction,s=void 0===i?d:i,l=Object(r.useRef)(null),f=Object(r.useState)(!1),m=f[0],p=f[1],b=Object(r.useRef)(null),v=Object(r.useState)(!1),O=v[0],h=v[1],x=Object(r.useState)(a),E=x[0],g=x[1],w=Object(r.useCallback)((function(e){e&&(l.current=e)}),[]),k=Object(r.useCallback)((function(e){e&&(b.current=e)}),[]);return Object(r.useEffect)((function(){!function(){try{Promise.resolve(function(e){try{return h(!0),Promise.resolve(t(e)).then((function(){h(!1)}))}catch(n){return Promise.reject(n)}}(E)).then((function(){s===j&&b.current.scrollTo(0,u)}))}catch(e){return Promise.reject(e)}}()}),[E]),Object(r.useLayoutEffect)((function(){if(n){var e=l.current,t=new IntersectionObserver((function(e){try{return e.forEach((function(e){e.isIntersecting&&!O&&g((function(e){return e+1}))})),Promise.resolve()}catch(t){return Promise.reject(t)}}),{root:null,rootMargin:s===d?"0px 0px "+u+"px 0px":u+"px 0px 0px 0px"});return t.observe(e),function(){t.disconnect()}}}),[l,n,O]),Object(r.useLayoutEffect)((function(){s!==j||m||b.current.scrollIntoView({block:"end",inline:"nearest"})})),Object(r.useEffect)((function(){return window.addEventListener("scroll",(function(){return p(!0)})),function(){return window.removeEventListener("scroll",(function(){return p(!0)}))}}),[]),[w,k,O]},O=n(19),h=n.n(O),x=c.a.forwardRef((function(e,t){return c.a.createElement("div",{ref:t,className:"loader"},e.children)})),E=function(e){var t=e.url,n=e.name;return c.a.createElement("figure",{key:n,className:"gallery__item gallery__item--".concat(n)},c.a.createElement("img",{src:t,className:"gallery__img",alt:"Image"}))},g=(n(47),function(){var e=Object(r.useState)(null),t=Object(f.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(null),u=Object(f.a)(o,2),m=u[0],p=u[1],d=v({hasMore:m,offset:100,direction:"bottom",callback:function(e){return new Promise(function(){var t=Object(l.a)(i.a.mark((function t(n){var r,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e,100);case 2:r=t.sent,c=r.results,o=r.next,a((function(e){return e?[].concat(Object(s.a)(e),Object(s.a)(c)):c})),p(!!o),n(c);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}),j=Object(f.a)(d,3),O=j[0],g=j[1],w=j[2];return c.a.createElement("div",{ref:g},c.a.createElement("ul",{className:"gallery"},n&&n.map((function(e,t){return c.a.createElement(E,Object.assign({},e,{key:t}))}))),c.a.createElement(x,{ref:O},w&&c.a.createElement(h.a,{color:"goldenrod",size:"64px",thickness:2})))}),w=(n(48),function(){return c.a.createElement(g,null)});o.a.render(c.a.createElement(w,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.0ac44f74.chunk.js.map