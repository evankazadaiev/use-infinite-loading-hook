(this["webpackJsonpreact-use-infinite-scroll-example"]=this["webpackJsonpreact-use-infinite-scroll-example"]||[]).push([[0],{20:function(e,t,n){e.exports=n(49)},21:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);n(21);var r=n(0),c=n.n(r),a=n(17),o=n.n(a),u=n(2),i=n.n(u),s=n(6),l=n(5),f=n(7),m=n(18),p=n.n(m),b=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({method:"GET",url:"https://api.thecatapi.com/v1/images/search",headers:{"x-api-key":"3cdc845e-5d4c-44aa-a433-e5938a053106"},params:{limit:n,page:t}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d="bottom",h="top",v=function(e){var t=e.callback,n=e.hasMore,c=e.startPage,a=void 0===c?1:c,o=e.offset,u=void 0===o?250:o,i=e.direction,s=void 0===i?d:i,l=Object(r.useRef)(null),f=Object(r.useRef)(null),m=Object(r.useState)(!1),p=m[0],b=m[1],v=Object(r.useState)(a),j=v[0],O=v[1],x=Object(r.useRef)(0),g=Object(r.useCallback)((function(e){e&&(l.current=e)}),[]),E=Object(r.useCallback)((function(e){e&&(f.current=e)}),[]);return Object(r.useEffect)((function(){!function(){try{Promise.resolve(function(e){try{return b(!0),Promise.resolve(t(e)).then((function(){b(!1)}))}catch(n){return Promise.reject(n)}}(j)).then((function(){s===h&&f.current.scrollTo(0,u)}))}catch(e){return Promise.reject(e)}}()}),[j]),Object(r.useLayoutEffect)((function(){var e=l.current,t=new IntersectionObserver((function(e){try{return e.forEach((function(e){if(e.isIntersecting&&!p){if(x.current=x.current+1,1===x.current)return;O((function(e){return e+1}))}})),Promise.resolve()}catch(t){return Promise.reject(t)}}),{root:null,rootMargin:s===d?"0px 0px "+u+"px 0px":u+"px 0px 0px 0px"});return t.observe(e),function(){t.disconnect()}}),[l,n,p]),Object(r.useLayoutEffect)((function(){console.log(f),s===h&&f.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[f]),[g,E,p]},j=n(19),O=n.n(j),x=c.a.forwardRef((function(e,t){return c.a.createElement("div",{ref:t,className:"loader"},e.children)})),g=(n(47),function(){var e=Object(r.useState)(null),t=Object(f.a)(e,2),n=t[0],a=t[1],o=v({hasMore:!0,offset:250,direction:"bottom",callback:function(e){return new Promise(function(){var t=Object(l.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e,20);case 2:r=t.sent,a((function(e){return e?[].concat(Object(s.a)(e),Object(s.a)(r)):r})),n(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}),u=Object(f.a)(o,3),m=u[0],p=u[1],d=u[2];return c.a.createElement("div",{ref:p},c.a.createElement("div",{className:"gallery"},n&&n.map((function(e,t){return c.a.createElement("figure",{key:e.id,className:"gallery__item gallery__item--".concat(t+1)},c.a.createElement("img",{src:e.url,className:"gallery__img",alt:"Image"}))}))),c.a.createElement(x,{ref:m},d&&c.a.createElement(O.a,{color:"goldenrod",size:"64px",thickness:2})))}),E=(n(48),function(){return c.a.createElement(g,null)});o.a.render(c.a.createElement(E,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.747219ed.chunk.js.map